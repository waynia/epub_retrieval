中文 | [English](https://github.com/waynia/epub_retrieval/blob/master/readme.md)

## 该项目的目标
这个演示项目旨在使用Open AI API解析个人电子书库。它的输入是epub格式的电子书，输出是一个.csv文件，其中包括输入书籍的段落总结和全文总结。此外，该项目中的功能提供了基于embedding_lib.py文件中嵌入相似性的搜索功能。到目前为止，由于我只能抽出业余时间来完成这项工作，因此我只完成了核心部分，即调用API来解析给定路径中.epub格式的一本书，并输出整本书的递归总结。

下一步是将其变成Calibre电子书管理应用程序插件，并帮助每个人从他们的图书收藏中获得新想法。如果可能的话，还可以成为构建某些特定知识基础Web应用程序的基础设施。

## 该工作的特点
注意到这项工作与其他信息检索不同之处。

首先，我按章节和子章节将电子书文本分组，这意味着我们可以根据它们自然组织方式总结电子书。每本书中的每句话既没有被打断，也不会因为Prompt的长度限制而被打断为不同块，因此可以保留有效信息。

其次，总结是递归性质。该工作从每个基本句开始对给定图书进行总结, 然后转化为段落、由几个相邻段落组成的块、整章甚至最后整篇文章. 在与GPT聊天时使用总结作为上下文, 我们可以从书中获得细节和整体洞察力。

此外，该项目的代码组织良好。该项目的入口是main.py，在其中只需要设置几个参数。用于数据过滤和信息提取的函数在book_parser.py中，用于总结的函数在summary_lib.py中。这两个文件中的函数调用prompt_lib.py和embedding_lib.py中一些低级别功能。所有配置都在config.py中。

## 等待您加入
我认为这项工作非常有前途，可以成为各种目的的通用工具，例如Chat-GPT插件或学术研究助手。如果您感兴趣，可以下载此工作并随意使用它，或考虑加入我来构建一些有用的应用程序。代码已经进行了大量注释，并且已经准备好供您学习。祝你好运。

## 演示
这是使用本项目对《黑猩猩政治》（汉语版）内容进行递归总结的结果截图：
![image](https://user-images.githubusercontent.com/49633741/228237995-2f8d5a65-7c2f-4e6f-a1bc-e85165d8c57b.png)
